{"version":3,"sources":["../src/commands/yt/mention/ClearMentionCommand.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,kDAAkE;AAClE,4CAAuC;AACvC,gDAA2C;AAE9B,QAAA,mBAAmB,GAAe;IAC3C,UAAU,EAAE,IAAI,wCAA6B,EAAE;SAC1C,OAAO,CAAC,OAAO,CAAC;SAChB,cAAc,CAAC,8CAA8C,CAAC;SAC9D,eAAe,CACZ,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC;SAC3B,cAAc,CAAC,oBAAoB,CAAC;SACpC,WAAW,CAAC,IAAI,CAAC,CACzB;IAEC,MAAM,CAAC,WAAW;;YACpB,IAAI,MAAM,GAAG,MAAM,SAAG,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;YACvD,IAAG,CAAC,MAAM,EAAC;gBACP,OAAO;aACV;YACD,IAAI,EAAC,YAAY,EAAE,WAAW,EAAC,GAAG,MAAM,CAAC;YACzC,IAAG,YAAY,CAAC,OAAO,EAAC;gBACpB,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;aAC/B;YACD,IAAG,YAAY,CAAC,OAAO,EAAE,EAAC;gBACtB,MAAM,YAAY,CAAC,IAAI,EAAE,CAAC;aAC7B;YACD,MAAM,WAAW,CAAC,KAAK,CAAC;gBACpB,MAAM,EAAE,CAAC,aAAK,CAAC,IAAI,CAAC,yCAAyC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;aAC7F,CAAC,CAAC;QACP,CAAC;KAAA;CACJ,CAAA","file":"ClearMentionCommand.js","sourcesContent":["import {SubCommand} from \"../../CommandManager\";\nimport {SlashCommandSubcommandBuilder} from \"@discordjs/builders\";\nimport {cmd} from \"../../../utils/cmd\";\nimport {embed} from \"../../../utils/embed\";\n\nexport const ClearMentionCommand: SubCommand = {\n    definition: new SlashCommandSubcommandBuilder()\n        .setName('clear')\n        .setDescription('Clear mentions for subscription notification')\n        .addStringOption(\n            opt => opt.setName('channel_id')\n                .setDescription('Youtube channel id')\n                .setRequired(true)\n        ),\n\n    async handle(interaction){\n        let verify = await cmd.verifySubscription(interaction);\n        if(!verify){\n            return;\n        }\n        let {subscription, channelData} = verify;\n        if(subscription.mention){\n            subscription.mention = null;\n        }\n        if(subscription.changed()){\n            await subscription.save();\n        }\n        await interaction.reply({\n            embeds: [embed.info(`Removed mention from notification for ${channelData.snippet.title}`)]\n        });\n    }\n}"]}